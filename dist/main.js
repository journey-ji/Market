(()=>{"use strict";var t={310:(t,e,n)=>{n.d(e,{Z:()=>s});const s=class{constructor(t){this.props=t}setState(t){this.state=t,this.updater()}updater(){const t=this.render();this.lastRendered.replaceWith(t),this.lastRendered=t}render(){}initialize(){const t=this.render();return this.lastRendered=t,t}initState(){return{}}}},586:(t,e,n)=>{n.d(e,{Z:()=>s});const s=(t,e)=>new t(e).initialize()},539:(t,e,n)=>{n.r(e),n.d(e,{Component:()=>s.Z,createComponent:()=>r.Z});var s=n(310),r=n(586)}},e={};function n(s){var r=e[s];if(void 0!==r)return r.exports;var o=e[s]={exports:{}};return t[s](o,o.exports,n),o.exports}n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var s=e.getElementsByTagName("script");s.length&&(t=s[s.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{var t=n(539);class e extends t.Component{render(){return document.createElement("div")}}const s=e;var r=n(310);class o extends r.Z{render(){const t=document.createElement("div");t.setAttribute("class","product-img");const e=document.createElement("img");return e.setAttribute("src",`${this.props.src}`),e.setAttribute("alt","상품이미지"),t.appendChild(e),t}}const c=o;class a extends r.Z{render(){const t=document.createElement("strong");return t.setAttribute("class","product-name sl-ellipsis"),t.innerText=this.props.name,t}}const i=a;class d extends r.Z{render(){const t=document.createElement("div");t.setAttribute("class","product-price");const e=document.createElement("strong");e.setAttribute("class","price m-price");const n=document.createElement("span");if(n.innerText="원",t.appendChild(e),this.props.discountRate>0){const e=document.createElement("div");e.setAttribute("class","price-discount");const s=document.createElement("strong");s.setAttribute("class","price-strikethrough"),s.innerText=this.props.price.toLocaleString("ko-KR")+n.innerText;const r=document.createElement("strong");r.setAttribute("class","discount-rate"),r.innerText=this.props.discountRate+"%",this.props.price=this.props.price*(100-this.props.discountRate)/100,e.appendChild(s),e.appendChild(r),t.appendChild(e)}return e.innerText=this.props.price.toLocaleString("ko-KR"),e.appendChild(n),t}}const l=d;class p extends r.Z{constructor(t){super(t),this.state={liked:this.checkLikeList()}}checkLikeList(){return localStorage.getItem("likeList")||localStorage.setItem("likeList",JSON.stringify([])),JSON.parse(localStorage.getItem("likeList")).includes(this.props.id)}changeLiked(){const t=JSON.parse(localStorage.getItem("likeList"));if(this.checkLikeList()){const e=t.filter((t=>t!=this.props.id));localStorage.setItem("likeList",JSON.stringify(e))}else t.push(this.props.id),localStorage.setItem("likeList",JSON.stringify(t));this.setState({liked:this.checkLikeList()})}render(){const t=document.createElement("button");t.setAttribute("class","like-btn"),this.state.liked&&t.classList.add("on");const e=document.createElement("span");return e.setAttribute("class","ir"),e.innerText="좋아요 버튼",t.appendChild(e),t.addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation(),this.changeLiked(),console.log(this.state.liked)})),t}}const u=p;class m extends r.Z{render(){const t=document.createElement("a");t.setAttribute("href",`/detail/${this.props.item.id}`),t.setAttribute("class","product-item");const e=new c({src:this.props.item.thumbnailImg}),n=new i({name:this.props.item.productName}),s=new l({price:this.props.item.price,discountRate:this.props.item.discountRate}),r=new u({id:this.props.item.id});return t.appendChild(e.render()),t.appendChild(n.render()),t.appendChild(s.render()),t.appendChild(r.initialize()),t}}const h=m;var b=n(586);class g extends r.Z{constructor(){super(),this.state={product:[]},this.getProductData()}async getProductData(){const t=await fetch("http://test.api.weniv.co.kr/mall"),e=await t.json();this.setState({product:e})}render(){this.mainElement=document.createElement("main"),this.mainElement.classList.add("product");const t=document.createElement("h1");t.setAttribute("class","ir"),t.innerText="상품목록 페이지",this.mainElement.appendChild(t);const e=document.createElement("ul");e.setAttribute("class","product-list"),this.state.product.forEach((async t=>{console.log(t.stockCount);const n=document.createElement("li");n.setAttribute("class","product-item"),t.stockCount<1&&(console.log(t.productName),n.classList.add("sold-out"));const s=(0,b.Z)(h,{item:t});n.appendChild(s),e.appendChild(n)}));const n=document.createElement("a");return n.innerText="테스트페이지 링크",n.setAttribute("href","/test"),this.mainElement.append(e,n),this.mainElement}}const E=g;class A extends t.Component{constructor(t){super(t)}render(){const t=document.createElement("div");t.setAttribute("class","quantity-option");const e=document.createElement("button");e.type="button",e.setAttribute("class","quantity-plus"),e.addEventListener("click",this.props.increaseQuantity);const n=document.createElement("span");n.setAttribute("class","ir"),n.innerText="수량 추가",e.append(n);const s=document.createElement("input");s.type="number",s.setAttribute("class","quantity-input"),s.setAttribute("id",`quantityInput${this.props.product.id}`),s.value=this.props.quantity,s.addEventListener("change",this.props.onChangeQuantityInput);const r=document.createElement("label");r.setAttribute("class","ir"),r.setAttribute("for",`quantityLabel${this.props.product.id}`),r.innerText="수량";const o=document.createElement("button");o.type="button",o.setAttribute("class","quantity-minus"),o.addEventListener("click",this.props.decreaseQuantity);const c=document.createElement("span");return c.setAttribute("class","ir"),c.innerText="수량 감소",o.append(c),t.append(o,s,e,r),t}}const y=A;class v extends t.Component{constructor(t){super(t),this.state={quantity:1}}increaseQuantity(){const t=this.state.quantity+1;t>this.props.product.stock||this.setState({quantity:t})}decreaseQuantity(){const t=this.state.quantity-1;t<1||this.setState({quantity:t})}onChangeQuantityInput(t){const e=this.props.product.stock,n=Number(t.target.value);n>e?this.setState({quantity:e}):n<1?this.setState({quantity:1}):this.setState({quantity:n})}render(){const e=document.createElement("form");e.setAttribute("class","product-order-form");const n=document.createElement("div");n.setAttribute("class","product-option");const s=document.createElement("span");s.setAttribute("class","delivery-title"),s.innerText="택배 배송 / "+(this.props.product.shipping_fee>0?this.props.product.shipping_fee.toLocaleString("ko-KR")+"원":"무료 배송");const r=document.createElement("div");r.setAttribute("class","selected-product");const o=(0,t.createComponent)(y,{...this.props,quantity:this.state.quantity,increaseQuantity:this.increaseQuantity.bind(this),decreaseQuantity:this.decreaseQuantity.bind(this),onChangeQuantityInput:this.onChangeQuantityInput.bind(this)});r.append(o);const c=document.createElement("div");c.setAttribute("class","total-price");const a=document.createElement("span");a.setAttribute("class","title"),a.innerText="총 상품금액";const i=document.createElement("div");i.setAttribute("class","total-order-info");const d=document.createElement("strong");d.setAttribute("class","quantity");const l=document.createElement("span");l.innerText=this.state.quantity.toLocaleString("ko-KR"),d.append("총 수량",l,"개");const p=document.createElement("strong");p.setAttribute("class","price l-price"),p.innerText=(this.props.product.price*this.state.quantity).toLocaleString("ko-KR");const u=document.createElement("span");u.innerText="원",p.append(u),i.append(d,p),c.append(a,i);const m=document.createElement("div");m.setAttribute("class","buy-container");const h=document.createElement("button");return h.setAttribute("class","buy-btn"),h.innerText="바로 구매",m.append(h),n.append(s,r),e.append(n,c,m),e}}const x=v;class w extends t.Component{render(){const e=document.createElement("section");e.setAttribute("class","product-basic-info");const n=(0,t.createComponent)(T,{text:"기본 정보 및 상품 옵션"}),s=(0,t.createComponent)(c,{src:this.props.product.image}),r=document.createElement("div");r.setAttribute("class","product-info");const o=document.createElement("div");o.setAttribute("class","product-name-price");const a=(0,t.createComponent)(i,{name:this.props.product.product_name}),d=(0,t.createComponent)(l,{price:this.props.product.price,discountRate:null});o.append(a,d);const p=(0,t.createComponent)(x,{product:this.props.product});return r.append(o,p),e.append(n,s,r),e}}const C=w;class f extends t.Component{render(){console.log(this.props.product);const e=document.createElement("section");e.setAttribute("class","product-detail-info");const n=(0,t.createComponent)(T,{text:"상품 상세 정보"}),s=document.createElement("dl");s.setAttribute("class","product-data");const r=document.createElement("dt");r.innerText="상품 번호";const o=document.createElement("dd");o.innerText=this.props.product.id;const c=document.createElement("dt");c.innerText="재고 수량";const a=document.createElement("dd");a.innerText=this.props.product.stockCount,s.append(r,o,c,a);const i=document.createElement("div");return i.setAttribute("class","product-content"),this.props.product.detailInfoImage&&this.props.product.detailInfoImage.forEach((t=>{const e=`http://test.api.weniv.co.kr/${t}`,n=document.createElement("img");n.setAttribute("alt","상품 소개 이미지"),n.setAttribute("src",e),i.append(n)})),e.append(n,s,i),e}}const k=f;class S extends t.Component{render(){const t=document.createElement("h2");return t.setAttribute("class","ir"),t.innerText=this.props.text,t}}const T=S;class L extends t.Component{constructor(t){super(t),this.state={product:{},isLoaded:!1},this.getProductData()}async getProductData(){const t=await fetch(`http://test.api.weniv.co.kr/mall/${this.props.id}`),e=await t.json();this.setState({product:e,isLoaded:!0})}render(){const e=document.createElement("article");e.setAttribute("class","product-detail");const n=document.createElement("h1");n.setAttribute("class","ir"),n.innerText="상품 상세 정보 페이지";const s=document.createElement("div");if(s.setAttribute("class","content-wrap"),this.state.isLoaded){const e=(0,t.createComponent)(C,{product:this.state.product}),n=(0,t.createComponent)(k,{product:this.state.product});s.append(e,n)}return e.append(s),e}}const _=L;class q extends t.Component{render(){const t=document.createElement("article");return t.setAttribute("class","carousel-cont"),t.innerText="",t}}const I=q;class j extends t.Component{getDataAPI(){}render(){console.log("메인페이지 상품");const e=document.createElement("div");e.setAttribute("class","content-wrap");const n=document.createElement("h2");n.setAttribute("class","ir"),n.innerText="상품 목록",n.setAttribute("class","ir");const s=document.createElement("ul");s.setAttribute("class","main-product-list"),(async()=>{try{const t=await fetch("https://openmarket.weniv.co.kr/products/",{method:"GET"}),e=await t.json();return console.log(e),e}catch(t){return console.err(t),null}})().then((e=>{for(let n=0;n<e.results.length;n++){const r=document.createElement("li");r.setAttribute("class","content-item");const o=document.createElement("a");o.setAttribute("href",`/products/${e.results[n].product_id}`);const c=document.createElement("img");c.setAttribute("src",e.results[n].image);const a=document.createElement("p");a.innerText=e.results[n].store_name;const d=(0,t.createComponent)(i,{name:e.results[n].product_name}),p=(0,t.createComponent)(l,{price:e.results[n].price});o.append(c,a,d,p),r.append(o),s.append(r)}}));for(let t=0;t<15;t++);return e.append(n,s),e}}const O=j,P=n.p+"e73b4357f914302dbc236b7a50d31244.png";class R extends t.Component{render(){const t=document.createElement("button");return t.style.width=this.props.width,t.style.height=this.props.height,t.innerText=this.props.txt?this.props.txt:"",t.setAttribute("class",this.props.class),t.style.backgroundColor=this.props.isUnactive?"white":"#21BF48",t.style.borderRadius="5px",t.style.color=this.props.isUnactive?"black":"white",t.style.fontSize="18px",t.style.fontWeight="500",t}}const $=R,N=n.p+"c30a27dea00a4be4986bf03830c95564.svg",D=n.p+"592c12f91ec326fe4c938c17c904c301.svg",J=n.p+"260e3c47f3c2b67320b7bfbb307d3922.svg";class Q extends t.Component{render(){const t=document.createElement("img");return t.setAttribute("src",P),t.style.display="block",t.style.width=this.props.width,t.style.height=this.props.height,t.style.margin=this.props.margin,t}}const Z=Q;class M extends t.Component{constructor(t){super(t),this.state={isLogin:!!JSON.parse(localStorage.getItem("loginInfo")),loginType:JSON.parse(localStorage.getItem("loginInfo"))?.loginType||""}}logout(){localStorage.removeItem("loginInfo"),alert("로그아웃되었습니다."),location.href="/"}render(){const e=document.createElement("nav");e.classList.add("top-navbar");const n=document.createElement("div");n.classList.add("nav-wrapper");const s=document.createElement("div");s.setAttribute("class","left-cont");const r=document.createElement("a");r.href="/";const o=(0,t.createComponent)(Z,{width:"124px",height:"38px",margin:"26px 30px 26px 0px"}),c=document.createElement("img");c.setAttribute("src",P),c.setAttribute("alt","헤더로고"),c.setAttribute("class","logo-img"),r.append(o);const a=document.createElement("div");a.setAttribute("class","inp-cont");const i=document.createElement("input");i.setAttribute("class","search-inp"),i.placeholder="상품을 검색해보세요!";const d=document.createElement("button");d.setAttribute("class","search-btn"),a.append(i,d),s.append(r,a);const l=document.createElement("div");if(l.setAttribute("class","right-cont"),"SELLER"===this.state.loginType){const e=document.createElement("button");e.setAttribute("class","btn-cont");const n=document.createElement("img");n.setAttribute("class","user-btn"),n.setAttribute("src",D);const s=document.createElement("span");s.innerText="로그아웃",s.setAttribute("class","btn-txt"),e.addEventListener("click",this.logout),e.append(n,s);const r=(0,t.createComponent)($,{width:"168px",height:"54px"});r.setAttribute("class","seller-center-btn");const o=document.createElement("img");o.setAttribute("class","seller-img"),o.setAttribute("src",N);const c=document.createElement("span");c.setAttribute("class","seller-txt"),c.innerText="판매자센터",r.addEventListener("click",(()=>{location.href="/seller"})),r.append(o,c),l.append(e,r)}else{const t=document.createElement("button");t.setAttribute("class","btn-cont"),t.addEventListener("click",(()=>{location.href="/cart"}));const e=document.createElement("img");e.setAttribute("class","cart-btn"),e.setAttribute("src",J);const n=document.createElement("span");n.innerText="장바구니",n.setAttribute("class","btn-txt"),t.append(e,n);const s=document.createElement("a");s.setAttribute("class","btn-cont"),this.state.isLogin?s.setAttribute("href","/"):s.setAttribute("href","/login");const r=document.createElement("img");r.setAttribute("class","user-btn"),r.setAttribute("src",D);const o=document.createElement("span");this.state.isLogin?(o.innerText="로그아웃",s.addEventListener("click",this.logout)):o.innerText="로그인",o.setAttribute("class","btn-txt"),s.append(r,o),l.append(t,s)}return n.append(s,l),e.append(n),e}}const F=M;class z extends t.Component{render(){const e=document.createElement("div"),n=(0,t.createComponent)(F,{isSeller:!1}),s=(0,t.createComponent)(I),r=(0,t.createComponent)(O);return e.append(n,s,r),e}}const K=z;class B extends t.Component{constructor(t){super(t),this.state={product:{},isLoaded:!1},this.getProductData()}async getProductData(){const t=await fetch(`https://openmarket.weniv.co.kr/products/${this.props.id}`,{method:"GET"}),e=await t.json();this.setState({product:e,isLoaded:!0})}render(){window.scrollTo(0,0);const e=document.createElement("div");e.setAttribute("class","page-wrapper"),e.style.marginTop="0px";const n=(0,t.createComponent)(F,{isSeller:!1}),s=document.createElement("div");if(s.setAttribute("class","order-wrapper"),this.state.isLoaded){console.log(this.state.product);const e=(0,t.createComponent)(C,{product:this.state.product});s.append(e)}const r=document.createElement("div");r.setAttribute("class","menu-wrapper");const o=document.createElement("section");o.setAttribute("class","menu-btn");const c=(0,t.createComponent)($,{width:"320px",height:"60px",txt:"상세",class:"selected"}),a=(0,t.createComponent)($,{width:"320px",height:"60px",txt:"리뷰"}),i=(0,t.createComponent)($,{width:"320px",height:"60px",txt:"Q&A"}),d=(0,t.createComponent)($,{width:"320px",height:"60px",txt:"반품/교환정보"});return o.append(c,a,i,d),r.append(o),e.append(n,s,r),e}}const U=B;class H extends t.Component{constructor(t){super(t),this.state={idChk:!1,termChk:!1,isCustomer:!0,sellerChk:!1}}render(){const e=document.createElement("form");e.setAttribute("class","join-form"),document.createElement("img").setAttribute("class","logo");const n=document.createElement("div");n.setAttribute("class","join-wrapper");const s=document.createElement("div");s.setAttribute("class","join-type-wrapper");const r=document.createElement("button");r.setAttribute("class","customer-join"),r.type="button",r.innerText="구매회원 가입",r.addEventListener("click",(()=>{console.log("customer 버튼 클릭"),this.state.isCustomer||this.setState({...this.state,isCustomer:!0})}));const o=document.createElement("button");o.setAttribute("class","seller-join"),o.type="button",o.innerText="판매회원 가입",o.addEventListener("click",(()=>{console.log("seller버튼 클릭"),this.state.isCustomer&&this.setState({...this.state,isCustomer:!1})})),this.state.isCustomer?(r.classList.add("selected"),o.classList.remove("selected")):(o.classList.add("selected"),r.classList.remove("selected")),s.append(r,o);const c=document.createElement("div");c.setAttribute("class","join-area");const a=document.createElement("div");a.setAttribute("class","id-wrapper");const i=document.createElement("label");i.innerText="아이디";const d=document.createElement("div");d.setAttribute("class","id-inp-wrapper");const l=document.createElement("input");l.id="id",l.disabled=!!this.state.idChk;const p=(0,t.createComponent)($,{txt:"중복확인"});p.setAttribute("type","button"),p.addEventListener("click",(t=>{const e=document.querySelector("#id");(async t=>(await fetch("https://openmarket.weniv.co.kr/accounts/signup/valid/username/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t})})).json())(e.value).then((t=>{console.log(t),t.Success?(alert(t.Success),e.disabled=!0):t.FAIL_Message&&alert(t.FAIL_Message)}))})),d.append(l,p),a.append(i,d);const u=document.createElement("div");u.setAttribute("class","pw-wrapper");const m=document.createElement("label");m.innerText="비밀번호";const h=document.createElement("input");h.setAttribute("class","pw-inp"),h.id="pw";const b=document.createElement("label");b.innerText="비밀번호 확인";const g=document.createElement("input");g.id="pwChk",u.append(m,h,b,g);const E=document.createElement("div");E.setAttribute("class","name-wrapper");const A=document.createElement("label");A.innerText="이름";const y=document.createElement("input");y.id="name",y.addEventListener("change",(()=>{})),E.append(A,y);const v=document.createElement("div");v.setAttribute("class","phone-wrapper");const x=document.createElement("label");x.innerText="휴대폰번호";const w=document.createElement("input");w.id="phone",w.addEventListener("input",(t=>{/^[0-9\b -]{0,13}$/.test(t.target.value)||(t.target.value=t.target.value.slice(0,-1)),10===t.target.value.length?t.target.value=t.target.value.replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3"):13===t.target.value.length&&(t.target.value=t.target.value.replace(/-/g,"").replace(/(\d{3})(\d{4})(\d{4})/,"$1-$2-$3"))})),v.append(x,w);const C=document.createElement("div");C.setAttribute("class","email-wrapper");const f=document.createElement("label");f.innerText="이메일";const k=document.createElement("div");k.setAttribute("class","email-inp-wrapper");const S=document.createElement("input");S.id="emailId";const T=document.createElement("span");T.innerText="@";const L=document.createElement("input");L.id="emailHost",k.append(S,T,L),C.append(f,k);const _=document.createElement("div");_.setAttribute("class","regi-wrapper");const q=document.createElement("label");q.innerText="사업자 등록번호";const I=document.createElement("div");I.setAttribute("class","regi-inp-wrapper");const j=document.createElement("input");j.id="registration",j.disabled=!!this.state.sellerChk;const O=(0,t.createComponent)($,{txt:"인증"});O.setAttribute("type","button"),O.addEventListener("click",(()=>{(async t=>(await fetch("https://openmarket.weniv.co.kr/accounts/signup/valid/company_registration_number/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company_registration_number:t})})).json())(j.value).then((t=>{t.Success?(document.querySelector("#registration").disabled=!0,alert(t.Success)):t.FAIL_Message&&alert(t.FAIL_Message)}))})),I.append(j,O),_.append(q,I);const P=document.createElement("div");P.setAttribute("class","store-wrapper");const R=document.createElement("label");R.innerText="스토어 이름";const N=document.createElement("input");N.setAttribute("class","store-inp"),N.id="store",P.append(R,N),c.append(a,u,E,v,C),this.state.isCustomer||c.append(_,P);const D=document.createElement("div");D.setAttribute("class","terms-wrapper");const J=document.createElement("input");J.setAttribute("type","checkbox"),J.id="termChk",J.addEventListener("click",(t=>{t.target.disabled=!0}));const Q=document.createElement("span");Q.innerText="호두샵의 이용약관 및 개인정보처리방침에 대한 내용을 확인하였고 동의합니다.",D.append(J,Q);const Z=document.createElement("button");return Z.setAttribute("class","join-btn"),Z.setAttribute("type","button"),Z.innerText="가입하기",Z.addEventListener("click",(t=>{let e={id:!1,pw:!1,term:!1};t.defaultPrevented;const n=document.querySelector("#id").value,s=document.querySelector("#pw").value,r=document.querySelector("#pwChk").value,o=document.querySelector("#name").value;let c=document.querySelector("#phone").value;const a=document.querySelector("#emailId").value,i=document.querySelector("#emailHost").value,d=document.querySelector("#termChk").value,l=document.querySelector("#registration").value,p=document.querySelector("#store").value;e.pw=s===r,document.querySelector("#id").disabled?e.id=!0:e.id=!1,document.querySelector("#termChk").disabled?e.term=!0:e.term=!1,console.log(e.pw),console.log(document.querySelector("#id").disabled),c=c.replaceAll("-",""),console.log(e.id,e.pw,e.term,c,a,i,d),e.id,e.pw,e.term,o&&c&&a&&i&&this.state.isCustomer?(async t=>(console.log(t),(await fetch("https://openmarket.weniv.co.kr/accounts/signup/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,password:t.password,password2:t.password2,phone_number:t.phone_number,name:t.name})})).json()))({username:n,password:s,password2:r,phone_number:c,name:o}).then((t=>{t.phone_number===c&&t.name===o&&t.username===n?alert("회원가입완료"):t.password[0]?alert(t.password[0]):t.phone_number[0]&&alert(t.phone_number[0])})).catch((t=>{console.log(t),alert("에러 발생")})):(e.id,e.pw,e.term,o&&c&&a&&i&&p&&!this.state.isCustomer&&(async t=>(console.log(t),(await fetch("https://openmarket.weniv.co.kr/accounts/signup_seller/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,password:t.password,password2:t.password2,phone_number:t.phone_number,name:t.name,company_registration_number:t.company_registration_number,store_name:t.store_name})})).json()))({username:n,password:s,password2:r,phone_number:c,name:o,company_registration_number:l,store_name:p}).then((t=>{t.phone_number===c&&t.name===o&&t.username===n&&t.company_registration_number===l&&t.store_name===p?(alert("회원가입완료"),location.href="/"):t.password[0]?alert(t.password[0]):t.phone_number[0]?alert(t.phone_number[0]):t.store_name[0]&&alert(t.store_name[0])})).catch((t=>{alert("에러 발생")})))})),n.append(s,c,D,Z),e.append(n),e}}const G=H,{Component:W,createComponent:Y}=n(539),V=class extends W{constructor(t){super(t),this.state={}}render(){const t=document.createElement("div");t.setAttribute("class","page-cont");const e=Y(G);return t.append(e),t}};class X extends t.Component{constructor(t){super(t),this.state={isCustomer:!0}}render(){const t=document.createElement("form");t.setAttribute("class","login-form");const e=document.createElement("div");e.setAttribute("class","login-wrapper");const n=document.createElement("div");n.setAttribute("class","login-type-wrapper");const s=document.createElement("button");s.setAttribute("class","customer-login "),s.innerText="구매회원 로그인",s.type="button",s.addEventListener("click",(t=>{t.preventDefault,this.state.isCustomer||this.setState({...this.state,isCustomer:!0})}));const r=document.createElement("button");r.setAttribute("class","seller-login "),r.innerText="판매회원 로그인",r.type="button",r.addEventListener("click",(t=>{t.preventDefault,this.state.isCustomer&&this.setState({...this.state,isCustomer:!1})})),this.state.isCustomer?s.classList.add("selected"):r.classList.add("selected"),n.append(s,r);const o=document.createElement("div");o.setAttribute("class","login-area");const c=document.createElement("input");c.setAttribute("class","id-inp"),c.placeholder="아이디",c.id="id";const a=document.createElement("input");a.setAttribute("class","pw-inp"),a.placeholder="비밀번호",a.id="pw";const i=document.createElement("button");i.setAttribute("class","login-btn"),i.innerText="로그인",i.type="button",i.addEventListener("click",(t=>{t.preventDefault;let e=document.querySelector("#id"),n=document.querySelector("#pw");(async t=>(await fetch("https://openmarket.weniv.co.kr/accounts/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,password:t.password,login_type:t.login_type})})).json())({username:e.value,password:n.value,login_type:this.state.isCustomer?"BUYER":"SELLER"}).then((t=>{t.id?(localStorage.setItem("loginInfo",JSON.stringify({loginToken:t.token,loginType:this.state.isCustomer?"BUYER":"SELLER"})),alert("로그인되었습니다."),location.href="/"):t.FAIL_Message&&alert("로그인에 실패하였습니다.")}))})),o.append(c,a,i),e.append(n,o);const d=document.createElement("div");d.setAttribute("class","etc-wrapper");const l=document.createElement("a");l.setAttribute("class","join"),l.innerText="회원가입";const p=document.createElement("span");p.innerText="|";const u=document.createElement("a");return u.innerText="비밀번호 찾기",d.append(l,p,u),t.append(e,d),t}}const tt=X;class et extends t.Component{render(){const e=document.createElement("div");e.setAttribute("class","page-cont");const n=(0,t.createComponent)(tt);return e.append(n),e}}const nt=et;class st extends t.Component{constructor(t){super(t),this.state={clickedItem:null}}render(){const e=document.createElement("div"),n=(0,t.createComponent)(F,{isSeller:!1});n.setAttribute("class","top-navbar");const s=document.createElement("div");s.setAttribute("class","contents-wrapper");const r=document.createElement("div");r.setAttribute("class","head-line-container");const o=document.createElement("div");o.setAttribute("class","tag-container");const c=document.createElement("span");c.innerText="대시보드";const a=document.createElement("span");a.innerText="백엔드글로벌",o.append(c,a);const i=(0,t.createComponent)($,{width:"168px",height:"54px",txt:"상품업로드"});r.append(o,i);const d=document.createElement("div");d.setAttribute("class","content-container");const l=document.createElement("div");l.setAttribute("class","side-container");const p=document.createElement("button");p.type="button",p.setAttribute("class","side-btn clicked"),p.innerText="판매중인 상품";const u=document.createElement("button");u.type="button",u.setAttribute("class","side-btn"),u.innerText="주문 / 배송";const m=document.createElement("button");m.type="button",m.setAttribute("class","side-btn"),m.innerText="문의 / 리뷰";const h=document.createElement("button");h.type="button",h.setAttribute("class","side-btn"),h.innerText="통계";const b=document.createElement("button");b.type="button",b.setAttribute("class","side-btn"),b.innerText="스토어설정";const g=[p,u,m,h,b];g.forEach((t=>{t.addEventListener("click",(t=>{t.target.classList.add("clicked"),g.filter((e=>e!==t.target)).forEach((t=>{t.classList.remove("clicked")}))}))})),b.style.textAlign="left",b.style.padding="15px 20px",l.append(p,u,m,h,b);const E=document.createElement("div");E.setAttribute("class","content-body");const A=document.createElement("div");return A.innerText="판매중인 상품이 들어갈 영역",E.append(A),d.append(l,E),s.append(r,d),e.append(n,s),e}}const rt=st;new class{constructor(t){this.props=t}setup(){const{el:t}=this.props;new class{constructor(t){t||console.log("초기화 실패, 라우트 필요"),this.routes=t,this.routeParam={};for(const e in t){const n=t[e];if(e.indexOf(":")>-1){const[t,s,r]=e.split("/");this.routeParam[s]=r.replace(":",""),this.routes["/"+s]=n,delete this.routes[e]}}}init(t){if(!t)return console.log("초기화 실패, rootElementId 필요"),null;this.rootElementId=t,this.routing(window.location.pathname),window.addEventListener("DOMContentLoaded",(()=>{console.log("fwef")})),window.addEventListener("click",(t=>{t.target.closest("a")&&(t.preventDefault(),this.routePush(t.target.closest("a").href))})),window.onpopstate=()=>this.routing(window.location.pathname)}routePush(t){window.history.pushState({},null,t),this.routing(window.location.pathname)}routing(t){const[e,n,...s]=t.split("/");let r="";if(this.routes[t])r=(new this.routes[t]).initialize();else if(s){const t={};t[this.routeParam[n]]=s,r=new this.routes["/"+n](t).initialize()}r&&this.render(r)}render(t){const e=document.querySelector(this.rootElementId);e.innerHTML="",e.appendChild(t)}}({"/":K,"/join":V,"/login":nt,"/cart":s,"/seller":rt,"/detail/:id":_,"/products/:id":U,"/products/*":U,"/test":E,"/*":K}).init(t)}}({el:"#root"}).setup()})()})();