(()=>{"use strict";var t={606:(t,e,s)=>{s.d(e,{Z:()=>n});const n=class{constructor(t){this.props=t}setState(t){this.state=t,this.updater()}updater(){const t=this.render();this.lastRendered.replaceWith(t),this.lastRendered=t}render(){}initialize(){const t=this.render();return this.lastRendered=t,t}}},586:(t,e,s)=>{s.d(e,{Z:()=>n});const n=(t,e)=>new t(e).initialize()},539:(t,e,s)=>{s.r(e),s.d(e,{Component:()=>n.Z,createComponent:()=>c.Z});var n=s(606),c=s(586)}},e={};function s(n){var c=e[n];if(void 0!==c)return c.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,s),r.exports}s.d=(t,e)=>{for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.p="http://localhost:3000/public",(()=>{var t=s(606);class e extends t.Z{render(){const t=document.createElement("div");t.setAttribute("class","product-img");const e=document.createElement("img");return e.setAttribute("src",`${this.props.src}`),e.setAttribute("alt","상품이미지"),t.appendChild(e),t}}const n=e;class c extends t.Z{render(){const t=document.createElement("strong");return t.setAttribute("class","product-name sl-ellipsis"),t.innerText=this.props.name,t}}const r=c;class i extends t.Z{render(){const t=document.createElement("div");t.setAttribute("class","product-price");const e=document.createElement("strong");e.setAttribute("class","price m-price");const s=document.createElement("span");if(s.innerText="원",t.appendChild(e),this.props.discountRate>0){const e=document.createElement("div");e.setAttribute("class","price-discount");const n=document.createElement("strong");n.setAttribute("class","price-strikethrough"),n.innerText=this.props.price.toLocaleString("ko-KR")+s.innerText;const c=document.createElement("strong");c.setAttribute("class","discount-rate"),c.innerText=this.props.discountRate+"%",this.props.price=this.props.price*(100-this.props.discountRate)/100,e.appendChild(n),e.appendChild(c),t.appendChild(e)}return e.innerText=this.props.price.toLocaleString("ko-KR"),e.appendChild(s),t}}const o=i;class a extends t.Z{constructor(t){super(t),this.state={liked:this.checkLikeList()}}checkLikeList(){return localStorage.getItem("likeList")||localStorage.setItem("likeList",JSON.stringify([])),JSON.parse(localStorage.getItem("likeList")).includes(this.props.id)}changeLiked(){const t=JSON.parse(localStorage.getItem("likeList"));if(this.checkLikeList()){const e=t.filter((t=>t!=this.props.id));localStorage.setItem("likeList",JSON.stringify(e))}else t.push(this.props.id),localStorage.setItem("likeList",JSON.stringify(t));this.setState({liked:this.checkLikeList()})}render(){const t=document.createElement("button");t.setAttribute("class","like-btn"),this.state.liked&&t.classList.add("on");const e=document.createElement("span");return e.setAttribute("class","ir"),e.innerText="좋아요 버튼",t.appendChild(e),t.addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation(),this.changeLiked(),console.log(this.state.liked)})),t}}const d=a;class p extends t.Z{render(){const t=document.createElement("a");t.setAttribute("href",`/detail/${this.props.item.id}`),t.setAttribute("class","product-item");const e=new n({src:this.props.item.thumbnailImg}),s=new r({name:this.props.item.productName}),c=new o({price:this.props.item.price,discountRate:this.props.item.discountRate}),i=new d({id:this.props.item.id});return t.appendChild(e.render()),t.appendChild(s.render()),t.appendChild(c.render()),t.appendChild(i.initialize()),t}}const u=p;var l=s(586);class m extends t.Z{constructor(){super(),this.state={product:[]},this.getProductData()}async getProductData(){const t=await fetch("http://test.api.weniv.co.kr/mall"),e=await t.json();this.setState({product:e})}render(){this.mainElement=document.createElement("main"),this.mainElement.classList.add("product");const t=document.createElement("h1");t.setAttribute("class","ir"),t.innerText="상품목록 페이지",this.mainElement.appendChild(t);const e=document.createElement("ul");e.setAttribute("class","product-list"),this.state.product.forEach((async t=>{console.log(t.stockCount);const s=document.createElement("li");s.setAttribute("class","product-item"),t.stockCount<1&&(console.log(t.productName),s.classList.add("sold-out"));const n=(0,l.Z)(u,{item:t});s.appendChild(n),e.appendChild(s)}));const s=document.createElement("a");return s.innerText="테스트페이지 링크",s.setAttribute("href","/test"),this.mainElement.append(e,s),this.mainElement}}const h=m;class b extends t.Z{render(){const t=document.createElement("h2");return t.setAttribute("class","ir"),t.innerText=this.props.text,t}}const E=b;class A extends t.Z{constructor(t){super(t)}render(){const t=document.createElement("div");t.setAttribute("class","quantity-option");const e=document.createElement("button");e.type="button",e.setAttribute("class","quantity-plus"),e.addEventListener("click",this.props.increaseQuantity);const s=document.createElement("span");s.setAttribute("class","ir"),s.innerText="수량 추가",e.append(s);const n=document.createElement("input");n.type="number",n.setAttribute("class","quantity-input"),n.setAttribute("id",`quantityInput${this.props.product.id}`),n.value=this.props.quantity,n.addEventListener("change",this.props.onChangeQuantityInput);const c=document.createElement("label");c.setAttribute("class","ir"),c.setAttribute("for",`quantityLabel${this.props.product.id}`),c.innerText="수량";const r=document.createElement("button");r.type="button",r.setAttribute("class","quantity-minus"),r.addEventListener("click",this.props.decreaseQuantity);const i=document.createElement("span");return i.setAttribute("class","ir"),i.innerText="수량 감소",r.append(i),t.append(r,n,e,c),t}}const g=A;class x extends t.Z{constructor(t){super(t),this.state={quantity:1}}increaseQuantity(){const t=this.state.quantity+1;t>this.props.product.stock||this.setState({quantity:t})}decreaseQuantity(){const t=this.state.quantity-1;t<1||this.setState({quantity:t})}onChangeQuantityInput(t){const e=this.props.product.stock,s=Number(t.target.value);s>e?this.setState({quantity:e}):s<1?this.setState({quantity:1}):this.setState({quantity:s})}render(){const t=document.createElement("form");t.setAttribute("class","product-order-form");const e=document.createElement("div");e.setAttribute("class","product-option");const s=document.createElement("span");s.setAttribute("class","delivery-title"),s.innerText="택배 배송 / "+(this.props.product.shipping_fee>0?this.props.product.shipping_fee.toLocaleString("ko-KR")+"원":"무료 배송");const n=document.createElement("div");n.setAttribute("class","selected-product");const c=(0,l.Z)(g,{...this.props,quantity:this.state.quantity,increaseQuantity:this.increaseQuantity.bind(this),decreaseQuantity:this.decreaseQuantity.bind(this),onChangeQuantityInput:this.onChangeQuantityInput.bind(this)});n.append(c);const r=document.createElement("div");r.setAttribute("class","total-price");const i=document.createElement("span");i.setAttribute("class","title"),i.innerText="총 상품금액";const o=document.createElement("div");o.setAttribute("class","total-order-info");const a=document.createElement("strong");a.setAttribute("class","quantity");const d=document.createElement("span");d.innerText=this.state.quantity.toLocaleString("ko-KR"),a.append("총 수량",d,"개");const p=document.createElement("strong");p.setAttribute("class","price l-price"),p.innerText=(this.props.product.price*this.state.quantity).toLocaleString("ko-KR");const u=document.createElement("span");u.innerText="원",p.append(u),o.append(a,p),r.append(i,o);const m=document.createElement("div");m.setAttribute("class","buy-container");const h=document.createElement("button");return h.setAttribute("class","buy-btn"),h.innerText="바로 구매",m.append(h),e.append(s,n),t.append(e,r,m),t}}const v=x;class y extends t.Z{render(){const t=document.createElement("section");t.setAttribute("class","product-basic-info");const e=(0,l.Z)(E,{text:"기본 정보 및 상품 옵션"}),s=(0,l.Z)(n,{src:this.props.product.image}),c=document.createElement("div");c.setAttribute("class","product-info");const i=document.createElement("div");i.setAttribute("class","product-name-price");const a=(0,l.Z)(r,{name:this.props.product.product_name}),d=(0,l.Z)(o,{price:this.props.product.price,discountRate:null});i.append(a,d);const p=(0,l.Z)(v,{product:this.props.product});return c.append(i,p),t.append(e,s,c),t}}const w=y;class f extends t.Z{render(){console.log(this.props.product);const t=document.createElement("section");t.setAttribute("class","product-detail-info");const e=(0,l.Z)(E,{text:"상품 상세 정보"}),s=document.createElement("dl");s.setAttribute("class","product-data");const n=document.createElement("dt");n.innerText="상품 번호";const c=document.createElement("dd");c.innerText=this.props.product.id;const r=document.createElement("dt");r.innerText="재고 수량";const i=document.createElement("dd");i.innerText=this.props.product.stockCount,s.append(n,c,r,i);const o=document.createElement("div");return o.setAttribute("class","product-content"),this.props.product.detailInfoImage&&this.props.product.detailInfoImage.forEach((t=>{const e=`http://test.api.weniv.co.kr/${t}`,s=document.createElement("img");s.setAttribute("alt","상품 소개 이미지"),s.setAttribute("src",e),o.append(s)})),t.append(e,s,o),t}}const Z=f;class k extends t.Z{constructor(t){super(t),this.state={product:{},isLoaded:!1},this.getProductData()}async getProductData(){const t=await fetch(`http://test.api.weniv.co.kr/mall/${this.props.id}`),e=await t.json();this.setState({product:e,isLoaded:!0})}render(){const t=document.createElement("article");t.setAttribute("class","product-detail");const e=document.createElement("h1");e.setAttribute("class","ir"),e.innerText="상품 상세 정보 페이지";const s=document.createElement("div");if(s.setAttribute("class","content-wrap"),this.state.isLoaded){const t=(0,l.Z)(w,{product:this.state.product}),e=(0,l.Z)(Z,{product:this.state.product});s.append(t,e)}return t.append(s),t}}const T=k;class L extends t.Z{render(){const t=document.createElement("article");return t.setAttribute("class","carousel-cont"),t.innerText="",t}}const S=L;class C extends t.Z{getDataAPI(){}render(){console.log("메인페이지 상품");const t=document.createElement("div");t.setAttribute("class","content-wrap");const e=document.createElement("h2");e.setAttribute("class","ir"),e.innerText="상품 목록",e.setAttribute("class","ir");const s=document.createElement("ul");s.setAttribute("class","main-product-list"),(async()=>{try{const t=await fetch("https://openmarket.weniv.co.kr/products/",{method:"GET"});return await t.json()}catch(t){return console.err(t),null}})().then((t=>{console.log(t.results);for(let e=0;e<t.results.length;e++){const n=document.createElement("li");n.setAttribute("class","content-item");const c=document.createElement("a");c.setAttribute("href",`/products/${t.results[e].product_id}`);const i=document.createElement("img");i.setAttribute("src",t.results[e].image);const a=document.createElement("p");a.innerText=t.results[e].store_name;const d=(0,l.Z)(r,{name:t.results[e].product_name}),p=(0,l.Z)(o,{price:t.results[e].price});c.append(i,a,d,p),n.append(c),s.append(n)}}));for(let t=0;t<15;t++);return t.append(e,s),t}}const q=C,I=s.p+"e73b4357f914302dbc236b7a50d31244.png";class P extends t.Z{render(){const t=document.createElement("button");return t.style.width=this.props.width,t.style.height=this.props.height,t.innerText=this.props.txt?this.props.txt:"",t.setAttribute("class",this.props.class),t}}const j=P,R=s.p+"1356a06e804c8b6ea332aa967d8eac8f.svg",Q=s.p+"d6e6542c29daf583e08e85e50438081c.svg",O=s.p+"fb559eef06cbd36853bca34c03d0dc36.svg";class D extends t.Z{render(){const t=document.createElement("nav");t.classList.add("top-navbar");const e=document.createElement("div");e.classList.add("nav-wrapper");const s=document.createElement("div");s.setAttribute("class","left-cont");const n=document.createElement("img");n.setAttribute("src",I),n.setAttribute("alt","헤더로고"),n.setAttribute("class","logo-img");const c=document.createElement("div");c.setAttribute("class","inp-cont");const r=document.createElement("input");r.setAttribute("class","search-inp"),r.placeholder="상품을 검색해보세요!";const i=document.createElement("button");i.setAttribute("class","search-btn"),c.append(r,i),s.append(n,c);const o=document.createElement("div");if(o.setAttribute("class","right-cont"),this.props.isSeller){const t=document.createElement("button");t.setAttribute("class","btn-cont");const e=document.createElement("img");e.setAttribute("class","user-btn"),e.setAttribute("src",Q);const s=document.createElement("span");s.innerText="마이페이지",s.setAttribute("class","btn-txt"),t.append(e,s);const n=(0,l.Z)(j,{width:"168px",height:"54px"});n.setAttribute("class","seller-center-btn");const c=document.createElement("img");c.setAttribute("class","seller-img"),c.setAttribute("src",R);const r=document.createElement("span");r.setAttribute("class","seller-txt"),r.innerText="판매자센터",n.append(c,r),o.append(t,n)}else{const t=document.createElement("button");t.setAttribute("class","btn-cont");const e=document.createElement("img");e.setAttribute("class","cart-btn"),e.setAttribute("src",O);const s=document.createElement("span");s.innerText="장바구니",s.setAttribute("class","btn-txt"),t.append(e,s);const n=document.createElement("a");n.setAttribute("class","btn-cont"),n.setAttribute("href","/join");const c=document.createElement("img");c.setAttribute("class","user-btn"),c.setAttribute("src",Q);const r=document.createElement("span");r.innerText="마이페이지",r.setAttribute("class","btn-txt"),n.append(c,r),o.append(t,n)}return e.append(s,o),t.append(e),t}}const N=D;class $ extends t.Z{render(){const t=document.createElement("div"),e=(0,l.Z)(N,{isSeller:!1}),s=(0,l.Z)(S),n=(0,l.Z)(q);return t.append(e,s,n),t}}const _=$;class z extends t.Z{constructor(t){super(t),this.state={product:{},isLoaded:!1},this.getProductData()}async getProductData(){const t=await fetch(`https://openmarket.weniv.co.kr/products/${this.props.id}`,{method:"GET"}),e=await t.json();this.setState({product:e,isLoaded:!0})}render(){const t=document.createElement("div");t.setAttribute("class","page-wrapper");const e=(0,l.Z)(N,{isSeller:!1}),s=document.createElement("div");if(s.setAttribute("class","order-wrapper"),this.state.isLoaded){console.log(this.state.product);const t=(0,l.Z)(w,{product:this.state.product});s.append(t)}const n=document.createElement("div");n.setAttribute("class","menu-wrapper");const c=document.createElement("section");c.setAttribute("class","menu-btn");const r=(0,l.Z)(j,{width:"320px",height:"60px",txt:"상세",class:"selected"}),i=(0,l.Z)(j,{width:"320px",height:"60px",txt:"리뷰"}),o=(0,l.Z)(j,{width:"320px",height:"60px",txt:"Q&A"}),a=(0,l.Z)(j,{width:"320px",height:"60px",txt:"반품/교환정보"});return c.append(r,i,o,a),n.append(c),t.append(e,s,n),t}}const J=z,{Component:K}=s(539),M=class extends K{render(){const t=document.createElement("div"),e=document.createElement("article");document.createElement("img").setAttribute("class","logo");const s=document.createElement("div");s.setAttribute("class","join-wrapper");const n=document.createElement("div");n.setAttribute("class","join-type-wrapper");const c=document.createElement("span");c.setAttribute("class","customer-join"),c.innerText="구매회원 가입";const r=document.createElement("span");r.setAttribute("class","seller-join"),r.innerText="판매회원 가입",n.append(c,r);const i=document.createElement("div");i.setAttribute("class","join-area");const o=document.createElement("div");o.setAttribute("class","input-wrapper");const a=document.createElement("span");a.innerText="아이디";const d=document.createElement("div");d.setAttribute("class","id-wrapper");const p=document.createElement("input");p.setAttribute("class","id-inp");const u=document.createElement("button");u.innerText="중복확인",d.append(p,u);const l=document.createElement("span");l.innerText="멋진 아이디네요!",o.append(a,d,l);const m=document.createElement("div");m.setAttribute("class","input-wrapper");const h=document.createElement("span");h.innerText="비밀번호";const b=document.createElement("input");return b.setAttribute("class","pw-inp"),m.append(h,b),i.append(o,m),s.append(n,i),e.append(s),t.append(e),t}};new class{constructor(t){this.props=t}setup(){const{el:t}=this.props;new class{constructor(t){t||console.log("초기화 실패, 라우트 필요"),this.routes=t,this.routeParam={};for(const e in t){const s=t[e];if(e.indexOf(":")>-1){const[t,n,c]=e.split("/");this.routeParam[n]=c.replace(":",""),this.routes["/"+n]=s,delete this.routes[e]}}}init(t){if(!t)return console.log("초기화 실패, rootElementId 필요"),null;this.rootElementId=t,this.routing(window.location.pathname),window.addEventListener("DOMContentLoaded",(()=>{console.log("fwef")})),window.addEventListener("click",(t=>{t.target.closest("a")&&(t.preventDefault(),this.routePush(t.target.closest("a").href))})),window.addEventListener("locationchange",(t=>{console.log("hihi")})),window.onpopstate=()=>this.routing(window.location.pathname)}routePush(t){window.history.pushState({},null,t),this.routing(window.location.pathname)}routing(t){const[e,s,...n]=t.split("/");let c="";if(this.routes[t])c=(new this.routes[t]).initialize();else if(n){const t={};t[this.routeParam[s]]=n,c=new this.routes["/"+s](t).initialize()}c&&this.render(c)}render(t){const e=document.querySelector(this.rootElementId);e.innerHTML="",e.appendChild(t)}}({"/":_,"/join":M,"/detail/:id":T,"/products/:id":J,"/products/*":J,"/test":h,"/*":_}).init(t)}}({el:"#root"}).setup()})()})();