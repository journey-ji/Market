(()=>{"use strict";var t={606:(t,e,n)=>{n.d(e,{Z:()=>s});const s=class{constructor(t){this.props=t}setState(t){this.state=t,this.updater()}updater(){const t=this.render();this.lastRendered.replaceWith(t),this.lastRendered=t}render(){}initialize(){const t=this.render();return this.lastRendered=t,t}}},586:(t,e,n)=>{n.d(e,{Z:()=>s});const s=(t,e)=>new t(e).initialize()},539:(t,e,n)=>{n.r(e),n.d(e,{Component:()=>s.Z,createComponent:()=>r.Z});var s=n(606),r=n(586)}},e={};function n(s){var r=e[s];if(void 0!==r)return r.exports;var c=e[s]={exports:{}};return t[s](c,c.exports,n),c.exports}n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var s=e.getElementsByTagName("script");s.length&&(t=s[s.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{var t=n(606);class e extends t.Z{render(){const t=document.createElement("div");t.setAttribute("class","product-img");const e=document.createElement("img");return e.setAttribute("src",`${this.props.src}`),e.setAttribute("alt","상품이미지"),t.appendChild(e),t}}const s=e;class r extends t.Z{render(){const t=document.createElement("strong");return t.setAttribute("class","product-name sl-ellipsis"),t.innerText=this.props.name,t}}const c=r;class o extends t.Z{render(){const t=document.createElement("div");t.setAttribute("class","product-price");const e=document.createElement("strong");e.setAttribute("class","price m-price");const n=document.createElement("span");if(n.innerText="원",t.appendChild(e),this.props.discountRate>0){const e=document.createElement("div");e.setAttribute("class","price-discount");const s=document.createElement("strong");s.setAttribute("class","price-strikethrough"),s.innerText=this.props.price.toLocaleString("ko-KR")+n.innerText;const r=document.createElement("strong");r.setAttribute("class","discount-rate"),r.innerText=this.props.discountRate+"%",this.props.price=this.props.price*(100-this.props.discountRate)/100,e.appendChild(s),e.appendChild(r),t.appendChild(e)}return e.innerText=this.props.price.toLocaleString("ko-KR"),e.appendChild(n),t}}const a=o;class i extends t.Z{constructor(t){super(t),this.state={liked:this.checkLikeList()}}checkLikeList(){return localStorage.getItem("likeList")||localStorage.setItem("likeList",JSON.stringify([])),JSON.parse(localStorage.getItem("likeList")).includes(this.props.id)}changeLiked(){const t=JSON.parse(localStorage.getItem("likeList"));if(this.checkLikeList()){const e=t.filter((t=>t!=this.props.id));localStorage.setItem("likeList",JSON.stringify(e))}else t.push(this.props.id),localStorage.setItem("likeList",JSON.stringify(t));this.setState({liked:this.checkLikeList()})}render(){const t=document.createElement("button");t.setAttribute("class","like-btn"),this.state.liked&&t.classList.add("on");const e=document.createElement("span");return e.setAttribute("class","ir"),e.innerText="좋아요 버튼",t.appendChild(e),t.addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation(),this.changeLiked(),console.log(this.state.liked)})),t}}const d=i;class l extends t.Z{render(){const t=document.createElement("a");t.setAttribute("href",`/detail/${this.props.item.id}`),t.setAttribute("class","product-item");const e=new s({src:this.props.item.thumbnailImg}),n=new c({name:this.props.item.productName}),r=new a({price:this.props.item.price,discountRate:this.props.item.discountRate}),o=new d({id:this.props.item.id});return t.appendChild(e.render()),t.appendChild(n.render()),t.appendChild(r.render()),t.appendChild(o.initialize()),t}}const u=l;var p=n(586);class m extends t.Z{constructor(){super(),this.state={product:[]},this.getProductData()}async getProductData(){const t=await fetch("http://test.api.weniv.co.kr/mall"),e=await t.json();this.setState({product:e})}render(){this.mainElement=document.createElement("main"),this.mainElement.classList.add("product");const t=document.createElement("h1");t.setAttribute("class","ir"),t.innerText="상품목록 페이지",this.mainElement.appendChild(t);const e=document.createElement("ul");e.setAttribute("class","product-list"),this.state.product.forEach((async t=>{console.log(t.stockCount);const n=document.createElement("li");n.setAttribute("class","product-item"),t.stockCount<1&&(console.log(t.productName),n.classList.add("sold-out"));const s=(0,p.Z)(u,{item:t});n.appendChild(s),e.appendChild(n)}));const n=document.createElement("a");return n.innerText="테스트페이지 링크",n.setAttribute("href","/test"),this.mainElement.append(e,n),this.mainElement}}const h=m;class b extends t.Z{render(){const t=document.createElement("h2");return t.setAttribute("class","ir"),t.innerText=this.props.text,t}}const g=b;class E extends t.Z{constructor(t){super(t)}render(){const t=document.createElement("div");t.setAttribute("class","quantity-option");const e=document.createElement("button");e.type="button",e.setAttribute("class","quantity-plus"),e.addEventListener("click",this.props.increaseQuantity);const n=document.createElement("span");n.setAttribute("class","ir"),n.innerText="수량 추가",e.append(n);const s=document.createElement("input");s.type="number",s.setAttribute("class","quantity-input"),s.setAttribute("id",`quantityInput${this.props.product.id}`),s.value=this.props.quantity,s.addEventListener("change",this.props.onChangeQuantityInput);const r=document.createElement("label");r.setAttribute("class","ir"),r.setAttribute("for",`quantityLabel${this.props.product.id}`),r.innerText="수량";const c=document.createElement("button");c.type="button",c.setAttribute("class","quantity-minus"),c.addEventListener("click",this.props.decreaseQuantity);const o=document.createElement("span");return o.setAttribute("class","ir"),o.innerText="수량 감소",c.append(o),t.append(c,s,e,r),t}}const A=E;class v extends t.Z{constructor(t){super(t),this.state={quantity:1}}increaseQuantity(){const t=this.state.quantity+1;t>this.props.product.stock||this.setState({quantity:t})}decreaseQuantity(){const t=this.state.quantity-1;t<1||this.setState({quantity:t})}onChangeQuantityInput(t){const e=this.props.product.stock,n=Number(t.target.value);n>e?this.setState({quantity:e}):n<1?this.setState({quantity:1}):this.setState({quantity:n})}render(){const t=document.createElement("form");t.setAttribute("class","product-order-form");const e=document.createElement("div");e.setAttribute("class","product-option");const n=document.createElement("span");n.setAttribute("class","delivery-title"),n.innerText="택배 배송 / "+(this.props.product.shipping_fee>0?this.props.product.shipping_fee.toLocaleString("ko-KR")+"원":"무료 배송");const s=document.createElement("div");s.setAttribute("class","selected-product");const r=(0,p.Z)(A,{...this.props,quantity:this.state.quantity,increaseQuantity:this.increaseQuantity.bind(this),decreaseQuantity:this.decreaseQuantity.bind(this),onChangeQuantityInput:this.onChangeQuantityInput.bind(this)});s.append(r);const c=document.createElement("div");c.setAttribute("class","total-price");const o=document.createElement("span");o.setAttribute("class","title"),o.innerText="총 상품금액";const a=document.createElement("div");a.setAttribute("class","total-order-info");const i=document.createElement("strong");i.setAttribute("class","quantity");const d=document.createElement("span");d.innerText=this.state.quantity.toLocaleString("ko-KR"),i.append("총 수량",d,"개");const l=document.createElement("strong");l.setAttribute("class","price l-price"),l.innerText=(this.props.product.price*this.state.quantity).toLocaleString("ko-KR");const u=document.createElement("span");u.innerText="원",l.append(u),a.append(i,l),c.append(o,a);const m=document.createElement("div");m.setAttribute("class","buy-container");const h=document.createElement("button");return h.setAttribute("class","buy-btn"),h.innerText="바로 구매",m.append(h),e.append(n,s),t.append(e,c,m),t}}const y=v;class w extends t.Z{render(){const t=document.createElement("section");t.setAttribute("class","product-basic-info");const e=(0,p.Z)(g,{text:"기본 정보 및 상품 옵션"}),n=(0,p.Z)(s,{src:this.props.product.image}),r=document.createElement("div");r.setAttribute("class","product-info");const o=document.createElement("div");o.setAttribute("class","product-name-price");const i=(0,p.Z)(c,{name:this.props.product.product_name}),d=(0,p.Z)(a,{price:this.props.product.price,discountRate:null});o.append(i,d);const l=(0,p.Z)(y,{product:this.props.product});return r.append(o,l),t.append(e,n,r),t}}const x=w;class f extends t.Z{render(){console.log(this.props.product);const t=document.createElement("section");t.setAttribute("class","product-detail-info");const e=(0,p.Z)(g,{text:"상품 상세 정보"}),n=document.createElement("dl");n.setAttribute("class","product-data");const s=document.createElement("dt");s.innerText="상품 번호";const r=document.createElement("dd");r.innerText=this.props.product.id;const c=document.createElement("dt");c.innerText="재고 수량";const o=document.createElement("dd");o.innerText=this.props.product.stockCount,n.append(s,r,c,o);const a=document.createElement("div");return a.setAttribute("class","product-content"),this.props.product.detailInfoImage&&this.props.product.detailInfoImage.forEach((t=>{const e=`http://test.api.weniv.co.kr/${t}`,n=document.createElement("img");n.setAttribute("alt","상품 소개 이미지"),n.setAttribute("src",e),a.append(n)})),t.append(e,n,a),t}}const S=f;class k extends t.Z{constructor(t){super(t),this.state={product:{},isLoaded:!1},this.getProductData()}async getProductData(){const t=await fetch(`http://test.api.weniv.co.kr/mall/${this.props.id}`),e=await t.json();this.setState({product:e,isLoaded:!0})}render(){const t=document.createElement("article");t.setAttribute("class","product-detail");const e=document.createElement("h1");e.setAttribute("class","ir"),e.innerText="상품 상세 정보 페이지";const n=document.createElement("div");if(n.setAttribute("class","content-wrap"),this.state.isLoaded){const t=(0,p.Z)(x,{product:this.state.product}),e=(0,p.Z)(S,{product:this.state.product});n.append(t,e)}return t.append(n),t}}const T=k;class L extends t.Z{render(){const t=document.createElement("article");return t.setAttribute("class","carousel-cont"),t.innerText="",t}}const C=L;class Z extends t.Z{getDataAPI(){}render(){console.log("메인페이지 상품");const t=document.createElement("div");t.setAttribute("class","content-wrap");const e=document.createElement("h2");e.setAttribute("class","ir"),e.innerText="상품 목록",e.setAttribute("class","ir");const n=document.createElement("ul");n.setAttribute("class","main-product-list"),(async()=>{try{const t=await fetch("https://openmarket.weniv.co.kr/products/",{method:"GET"});return await t.json()}catch(t){return console.err(t),null}})().then((t=>{console.log(t.results);for(let e=0;e<t.results.length;e++){const s=document.createElement("li");s.setAttribute("class","content-item");const r=document.createElement("a");r.setAttribute("href",`/products/${t.results[e].product_id}`);const o=document.createElement("img");o.setAttribute("src",t.results[e].image);const i=document.createElement("p");i.innerText=t.results[e].store_name;const d=(0,p.Z)(c,{name:t.results[e].product_name}),l=(0,p.Z)(a,{price:t.results[e].price});r.append(o,i,d,l),s.append(r),n.append(s)}}));for(let t=0;t<15;t++);return t.append(e,n),t}}const _=Z,q=n.p+"e73b4357f914302dbc236b7a50d31244.png";class j extends t.Z{render(){const t=document.createElement("button");return t.style.width=this.props.width,t.style.height=this.props.height,t.innerText=this.props.txt?this.props.txt:"",t.setAttribute("class",this.props.class),t}}const I=j,P=n.p+"1356a06e804c8b6ea332aa967d8eac8f.svg",O=n.p+"d6e6542c29daf583e08e85e50438081c.svg",$=n.p+"fb559eef06cbd36853bca34c03d0dc36.svg";class R extends t.Z{render(){let t=localStorage.getItem("loginToken");console.log("로그인"),console.log(!!t);const e=document.createElement("nav");e.classList.add("top-navbar");const n=document.createElement("div");n.classList.add("nav-wrapper");const s=document.createElement("div");s.setAttribute("class","left-cont");const r=document.createElement("img");r.setAttribute("src",q),r.setAttribute("alt","헤더로고"),r.setAttribute("class","logo-img");const c=document.createElement("div");c.setAttribute("class","inp-cont");const o=document.createElement("input");o.setAttribute("class","search-inp"),o.placeholder="상품을 검색해보세요!";const a=document.createElement("button");a.setAttribute("class","search-btn"),c.append(o,a),s.append(r,c);const i=document.createElement("div");if(i.setAttribute("class","right-cont"),this.props.isSeller){const t=document.createElement("button");t.setAttribute("class","btn-cont");const e=document.createElement("img");e.setAttribute("class","user-btn"),e.setAttribute("src",O);const n=document.createElement("span");n.innerText="마이페이지",n.setAttribute("class","btn-txt"),t.append(e,n);const s=(0,p.Z)(I,{width:"168px",height:"54px"});s.setAttribute("class","seller-center-btn");const r=document.createElement("img");r.setAttribute("class","seller-img"),r.setAttribute("src",P);const c=document.createElement("span");c.setAttribute("class","seller-txt"),c.innerText="판매자센터",s.append(r,c),i.append(t,s)}else{const e=document.createElement("button");e.setAttribute("class","btn-cont");const n=document.createElement("img");n.setAttribute("class","cart-btn"),n.setAttribute("src",$);const s=document.createElement("span");s.innerText="장바구니",s.setAttribute("class","btn-txt"),e.append(n,s);const r=document.createElement("a");r.setAttribute("class","btn-cont"),t?r.setAttribute("href","/"):r.setAttribute("href","/login");const c=document.createElement("img");c.setAttribute("class","user-btn"),c.setAttribute("src",O);const o=document.createElement("span");o.innerText=t?"마이페이지":"로그인",o.setAttribute("class","btn-txt"),r.append(c,o),i.append(e,r)}return n.append(s,i),e.append(n),e}}const N=R;class D extends t.Z{render(){const t=document.createElement("div"),e=(0,p.Z)(N,{isSeller:!1}),n=(0,p.Z)(C),s=(0,p.Z)(_);return t.append(e,n,s),t}}const Q=D;class J extends t.Z{constructor(t){super(t),this.state={product:{},isLoaded:!1},this.getProductData()}async getProductData(){const t=await fetch(`https://openmarket.weniv.co.kr/products/${this.props.id}`,{method:"GET"}),e=await t.json();this.setState({product:e,isLoaded:!0})}render(){const t=document.createElement("div");t.setAttribute("class","page-wrapper");const e=(0,p.Z)(N,{isSeller:!1}),n=document.createElement("div");if(n.setAttribute("class","order-wrapper"),this.state.isLoaded){console.log(this.state.product);const t=(0,p.Z)(x,{product:this.state.product});n.append(t)}const s=document.createElement("div");s.setAttribute("class","menu-wrapper");const r=document.createElement("section");r.setAttribute("class","menu-btn");const c=(0,p.Z)(I,{width:"320px",height:"60px",txt:"상세",class:"selected"}),o=(0,p.Z)(I,{width:"320px",height:"60px",txt:"리뷰"}),a=(0,p.Z)(I,{width:"320px",height:"60px",txt:"Q&A"}),i=(0,p.Z)(I,{width:"320px",height:"60px",txt:"반품/교환정보"});return r.append(c,o,a,i),s.append(r),t.append(e,n,s),t}}const M=J;class z extends t.Z{constructor(t){super(t),this.state={idChk:!1,termChk:!1,isCustomer:!0,sellerChk:!1}}render(){const t=document.createElement("form");t.setAttribute("class","join-form"),document.createElement("img").setAttribute("class","logo");const e=document.createElement("div");e.setAttribute("class","join-wrapper");const n=document.createElement("div");n.setAttribute("class","join-type-wrapper");const s=document.createElement("button");s.setAttribute("class","customer-join"),s.type="button",s.innerText="구매회원 가입",s.addEventListener("click",(()=>{console.log("customer 버튼 클릭"),this.state.isCustomer||this.setState({...this.state,isCustomer:!0})}));const r=document.createElement("button");r.setAttribute("class","seller-join"),r.type="button",r.innerText="판매회원 가입",r.addEventListener("click",(()=>{console.log("seller버튼 클릭"),this.state.isCustomer&&this.setState({...this.state,isCustomer:!1})})),this.state.isCustomer?(s.classList.add("selected"),r.classList.remove("selected")):(r.classList.add("selected"),s.classList.remove("selected")),n.append(s,r);const c=document.createElement("div");c.setAttribute("class","join-area");const o=document.createElement("div");o.setAttribute("class","id-wrapper");const a=document.createElement("label");a.innerText="아이디";const i=document.createElement("div");i.setAttribute("class","id-inp-wrapper");const d=document.createElement("input");d.id="id",d.disabled=!!this.state.idChk;const l=(0,p.Z)(I,{txt:"중복확인"});l.setAttribute("type","button"),l.addEventListener("click",(t=>{const e=document.querySelector("#id");(async t=>(await fetch("https://openmarket.weniv.co.kr/accounts/signup/valid/username/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t})})).json())(e.value).then((t=>{console.log(t),t.Success?(alert(t.Success),e.disabled=!0):t.FAIL_Message&&alert(t.FAIL_Message)}))})),i.append(d,l),o.append(a,i);const u=document.createElement("div");u.setAttribute("class","pw-wrapper");const m=document.createElement("label");m.innerText="비밀번호";const h=document.createElement("input");h.setAttribute("class","pw-inp"),h.id="pw";const b=document.createElement("label");b.innerText="비밀번호 확인";const g=document.createElement("input");g.id="pwChk",u.append(m,h,b,g);const E=document.createElement("div");E.setAttribute("class","name-wrapper");const A=document.createElement("label");A.innerText="이름";const v=document.createElement("input");v.id="name",v.addEventListener("change",(()=>{})),E.append(A,v);const y=document.createElement("div");y.setAttribute("class","phone-wrapper");const w=document.createElement("label");w.innerText="휴대폰번호";const x=document.createElement("input");x.id="phone",x.addEventListener("input",(t=>{/^[0-9\b -]{0,13}$/.test(t.target.value)||(t.target.value=t.target.value.slice(0,-1)),10===t.target.value.length?t.target.value=t.target.value.replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3"):13===t.target.value.length&&(t.target.value=t.target.value.replace(/-/g,"").replace(/(\d{3})(\d{4})(\d{4})/,"$1-$2-$3"))})),y.append(w,x);const f=document.createElement("div");f.setAttribute("class","email-wrapper");const S=document.createElement("label");S.innerText="이메일";const k=document.createElement("div");k.setAttribute("class","email-inp-wrapper");const T=document.createElement("input");T.id="emailId";const L=document.createElement("span");L.innerText="@";const C=document.createElement("input");C.id="emailHost",k.append(T,L,C),f.append(S,k);const Z=document.createElement("div");Z.setAttribute("class","regi-wrapper");const _=document.createElement("label");_.innerText="사업자 등록번호";const q=document.createElement("div");q.setAttribute("class","regi-inp-wrapper");const j=document.createElement("input");j.id="registration",j.disabled=!!this.state.sellerChk;const P=(0,p.Z)(I,{txt:"인증"});P.setAttribute("type","button"),P.addEventListener("click",(()=>{(async t=>(await fetch("https://openmarket.weniv.co.kr/accounts/signup/valid/company_registration_number/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company_registration_number:t})})).json())(j.value).then((t=>{t.Success?(document.querySelector("#registration").disabled=!0,alert(t.Success)):t.FAIL_Message&&alert(t.FAIL_Message)}))})),q.append(j,P),Z.append(_,q);const O=document.createElement("div");O.setAttribute("class","store-wrapper");const $=document.createElement("label");$.innerText="스토어 이름";const R=document.createElement("input");R.setAttribute("class","store-inp"),R.id="store",O.append($,R),c.append(o,u,E,y,f),this.state.isCustomer||c.append(Z,O);const N=document.createElement("div");N.setAttribute("class","terms-wrapper");const D=document.createElement("input");D.setAttribute("type","checkbox"),D.id="termChk",D.addEventListener("click",(t=>{t.target.disabled=!0}));const Q=document.createElement("span");Q.innerText="호두샵의 이용약관 및 개인정보처리방침에 대한 내용을 확인하였고 동의합니다.",N.append(D,Q);const J=document.createElement("button");return J.setAttribute("class","join-btn"),J.setAttribute("type","button"),J.innerText="가입하기",J.addEventListener("click",(t=>{let e={id:!1,pw:!1,term:!1};t.defaultPrevented;const n=document.querySelector("#id").value,s=document.querySelector("#pw").value,r=document.querySelector("#pwChk").value,c=document.querySelector("#name").value;let o=document.querySelector("#phone").value;const a=document.querySelector("#emailId").value,i=document.querySelector("#emailHost").value,d=document.querySelector("#termChk").value,l=document.querySelector("#registration").value,u=document.querySelector("#store").value;e.pw=s===r,document.querySelector("#id").disabled?e.id=!0:e.id=!1,document.querySelector("#termChk").disabled?e.term=!0:e.term=!1,console.log(e.pw),console.log(document.querySelector("#id").disabled),o=o.replaceAll("-",""),console.log(e.id,e.pw,e.term,o,a,i,d),e.id,e.pw,e.term,c&&o&&a&&i&&this.state.isCustomer?(async t=>(console.log(t),(await fetch("https://openmarket.weniv.co.kr/accounts/signup/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,password:t.password,password2:t.password2,phone_number:t.phone_number,name:t.name})})).json()))({username:n,password:s,password2:r,phone_number:o,name:c}).then((t=>{t.phone_number===o&&t.name===c&&t.username===n?alert("회원가입완료"):t.password[0]?alert(t.password[0]):t.phone_number[0]&&alert(t.phone_number[0])})).catch((t=>{console.log(t),alert("에러 발생")})):(e.id,e.pw,e.term,c&&o&&a&&i&&u&&!this.state.isCustomer&&(async t=>(console.log(t),(await fetch("https://openmarket.weniv.co.kr/accounts/signup_seller/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,password:t.password,password2:t.password2,phone_number:t.phone_number,name:t.name,company_registration_number:t.company_registration_number,store_name:t.store_name})})).json()))({username:n,password:s,password2:r,phone_number:o,name:c,company_registration_number:l,store_name:u}).then((t=>{t.phone_number===o&&t.name===c&&t.username===n&&t.company_registration_number===l&&t.store_name===u?(alert("회원가입완료"),location.href="/"):t.password[0]?alert(t.password[0]):t.phone_number[0]?alert(t.phone_number[0]):t.store_name[0]&&alert(t.store_name[0])})).catch((t=>{alert("에러 발생")})))})),e.append(n,c,N,J),t.append(e),t}}const F=z,{Component:K,createComponent:H}=n(539),B=class extends K{constructor(t){super(t),this.state={}}render(){const t=document.createElement("div");t.setAttribute("class","page-cont");const e=H(F);return t.append(e),t}};class G extends t.Z{constructor(t){super(t),this.state={isCustomer:!0}}render(){const t=document.createElement("form");t.setAttribute("class","login-form");const e=document.createElement("div");e.setAttribute("class","login-wrapper");const n=document.createElement("div");n.setAttribute("class","login-type-wrapper");const s=document.createElement("button");s.setAttribute("class","customer-login "),s.innerText="구매회원 로그인",s.type="button",s.addEventListener("click",(t=>{t.preventDefault,this.state.isCustomer||this.setState({...this.state,isCustomer:!0})}));const r=document.createElement("button");r.setAttribute("class","seller-login "),r.innerText="판매회원 로그인",r.type="button",r.addEventListener("click",(t=>{t.preventDefault,this.state.isCustomer&&this.setState({...this.state,isCustomer:!1})})),this.state.isCustomer?s.classList.add("selected"):r.classList.add("selected"),n.append(s,r);const c=document.createElement("div");c.setAttribute("class","login-area");const o=document.createElement("input");o.setAttribute("class","id-inp"),o.placeholder="아이디",o.id="id";const a=document.createElement("input");a.setAttribute("class","pw-inp"),a.placeholder="비밀번호",a.id="pw";const i=document.createElement("button");i.setAttribute("class","login-btn"),i.innerText="로그인",i.type="button",i.addEventListener("click",(t=>{t.preventDefault;let e=document.querySelector("#id"),n=document.querySelector("#pw");(async t=>(await fetch("https://openmarket.weniv.co.kr/accounts/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,password:t.password,login_type:t.login_type})})).json())({username:e.value,password:n.value,login_type:this.state.isCustomer?"BUYER":"SELLER"}).then((t=>{console.log(t),t.id&&(localStorage.setItem("loginToken",t.token),alert("로그인되었습니다."),location.href="/")}))})),c.append(o,a,i),e.append(n,c);const d=document.createElement("div");d.setAttribute("class","etc-wrapper");const l=document.createElement("a");l.setAttribute("class","join"),l.innerText="회원가입";const u=document.createElement("span");u.innerText="|";const p=document.createElement("a");return p.innerText="비밀번호 찾기",d.append(l,u,p),t.append(e,d),t}}const U=G;class W extends t.Z{render(){const t=document.createElement("div");t.setAttribute("class","page-cont");const e=(0,p.Z)(U);return t.append(e),t}}const Y=W;new class{constructor(t){this.props=t}setup(){const{el:t}=this.props;new class{constructor(t){t||console.log("초기화 실패, 라우트 필요"),this.routes=t,this.routeParam={};for(const e in t){const n=t[e];if(e.indexOf(":")>-1){const[t,s,r]=e.split("/");this.routeParam[s]=r.replace(":",""),this.routes["/"+s]=n,delete this.routes[e]}}}init(t){if(!t)return console.log("초기화 실패, rootElementId 필요"),null;this.rootElementId=t,this.routing(window.location.pathname),window.addEventListener("DOMContentLoaded",(()=>{console.log("fwef")})),window.addEventListener("click",(t=>{t.target.closest("a")&&(t.preventDefault(),this.routePush(t.target.closest("a").href))})),window.onpopstate=()=>this.routing(window.location.pathname)}routePush(t){window.history.pushState({},null,t),this.routing(window.location.pathname)}routing(t){const[e,n,...s]=t.split("/");let r="";if(this.routes[t])r=(new this.routes[t]).initialize();else if(s){const t={};t[this.routeParam[n]]=s,r=new this.routes["/"+n](t).initialize()}r&&this.render(r)}render(t){const e=document.querySelector(this.rootElementId);e.innerHTML="",e.appendChild(t)}}({"/":Q,"/join":B,"/login":Y,"/detail/:id":T,"/products/:id":M,"/products/*":M,"/test":h,"/*":Q}).init(t)}}({el:"#root"}).setup()})()})();